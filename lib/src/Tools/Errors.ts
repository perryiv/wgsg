///////////////////////////////////////////////////////////////////////////////
//
//	Copyright (c) 2025, Perry L Miller IV
//	All rights reserved.
//	MIT License: https://opensource.org/licenses/mit-license.html
//
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//
//	Error functions.
//
///////////////////////////////////////////////////////////////////////////////

export type IErrorFunction = ( ( _: ( string | Error ) ) => void );
let errorFunction: ( IErrorFunction | null ) = null;


///////////////////////////////////////////////////////////////////////////////
//
//	Get the error function.
//
///////////////////////////////////////////////////////////////////////////////

export const getErrorFunction = () : ( IErrorFunction | null ) =>
{
	return errorFunction;
};


///////////////////////////////////////////////////////////////////////////////
//
//	Set the error function.
//
///////////////////////////////////////////////////////////////////////////////

export const setErrorFunction = ( fun: ( IErrorFunction | null ) ) =>
{
	errorFunction = fun;
};


///////////////////////////////////////////////////////////////////////////////
//
//	Report the error.
//
///////////////////////////////////////////////////////////////////////////////

export const reportError = ( error: ( string | Error ) ) =>
{
	// Is there an error function?
	if ( errorFunction )
	{
		errorFunction ( error );
	}

	// Otherwise, just print it to the console.
	else
	{
		console.error ( error );
	}
};

///////////////////////////////////////////////////////////////////////////////
//
//	Copyright (c) 2025, Perry L Miller IV
//	All rights reserved.
//	MIT License: https://opensource.org/licenses/mit-license.html
//
///////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
//
//	Test code for the visitor classes.
//
///////////////////////////////////////////////////////////////////////////////

import { expect } from "chai";
import { Visitor } from "../wgsg";


///////////////////////////////////////////////////////////////////////////////
//
//	Used below.
//
///////////////////////////////////////////////////////////////////////////////

class MyConcreteVisitor extends Visitor
{
	public override getClassName() : string
	{
		return "MyConcreteVisitor";
	}
	public override reset()
	{
		// Nothing to do.
	}
};


///////////////////////////////////////////////////////////////////////////////
//
//	Test the code.
//
///////////////////////////////////////////////////////////////////////////////

export function test ()
{
	describe ( "Visitor", function ()
	{
		it ( "Can inherit from the base visitor class", function ()
		{
			const a = new MyConcreteVisitor();
			expect ( a instanceof Visitor ).to.be.true;
			expect ( a.type ).to.be.equal ( a.getClassName() );
			expect ( a.type ).to.be.equal ( "MyConcreteVisitor" );
			expect ( a.id ).to.exist;
			expect ( typeof a.id ).to.be.equal ( "number" );
			expect ( a.id ).to.be.greaterThan ( 0 );
		} );
	} );
};
